(this.webpackJsonpverifier_frontend=this.webpackJsonpverifier_frontend||[]).push([[0],{268:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n(10),i=n.n(c),s=n(39),o=(n(241),n(7)),l=n(316),b=n(269),j=n(232),p=Object(b.a)((function(){return Object(j.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),x=function(){return p(),null},d=n(227),h=n(14),u=n(219),g=n.n(u),O=Object(d.a)({palette:{background:{dark:"#F4F6F8",default:h.a.common.white,paper:h.a.common.white},primary:g.a,text:{primary:h.a.blueGrey[900],secondary:h.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),f=n(21),m=n(79),v=n(4),y=n(299),k=n(301),S=function(e){return Object(a.jsx)("img",Object(f.a)({alt:"Logo",src:"/static/logo.svg"},e))},C=Object(b.a)({root:{},toolbar:{height:64}}),w=function(e){var t=e.className,n=Object(m.a)(e,["className"]),r=C();return Object(a.jsx)(y.a,Object(f.a)(Object(f.a)({className:Object(v.a)(r.root,t),elevation:0},n),{},{children:Object(a.jsx)(k.a,{className:r.toolbar,children:Object(a.jsx)(s.b,{to:"/",children:Object(a.jsx)(S,{})})})}))},N=n(220),T=n.n(N),I=Object(b.a)((function(e){return{root:{height:"100%",width:"100%",overflow:"hidden",display:"flex",backgroundColor:e.palette.background.dark},wrapper:{flex:"1 1 auto",overflow:"hidden",display:"flex",paddingTop:64},contentContainer:{flex:"1 1 auto",overflow:"hidden",display:"flex"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),P=function(){var e=I();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(w,{}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(T.a,{children:Object(a.jsx)(o.b,{})})})})})]})},z=n(317),K=n(302),B=n(303),R=n(221),W=Object(r.forwardRef)((function(e,t){var n=e.children,r=e.title,c=void 0===r?"":r,i=Object(m.a)(e,["children","title"]);return Object(a.jsxs)("div",Object(f.a)(Object(f.a)({ref:t},i),{},{children:[Object(a.jsx)(R.a,{children:Object(a.jsx)("title",{children:c})}),n]}))})),G=Object(b.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),E=function(){var e=G();return Object(a.jsx)(W,{className:e.root,title:"404",children:Object(a.jsx)(z.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(a.jsxs)(K.a,{maxWidth:"md",children:[Object(a.jsx)(B.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(a.jsx)(B.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(a.jsx)(z.a,{textAlign:"center"})]})})})},H=n(29),q=n.n(H),A=n(54),D=n(304),J=n(28),F=n.n(J),_=n(32),L=n(18),M={variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}},V=(0,n(100).createSlice)({name:"appSlice",initialState:{decodedToken:{publicKeyHex:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},{}]},offChainCheckResult:{sumCredit:0,CPA:0}},reducers:{setDecodedTokenAndEduProgramOnBKC:function(e,t){e.decodedToken=t.payload.decodedToken,e.eduProgramOnBKC=t.payload.eduProgramOnBKC},setSubjectIntegrityCheckResult:function(e,t){var n=t.payload,a=n.subjectIndex,r=n.versionIndex,c=n.valid,i=e.decodedToken.subjects[a].versions[r];i.valid=c,!1===c?i.msg=t.payload.msg:i.timestamp=t.payload.timestamp},setOffChainCheckResult:function(e,t){e.offChainCheckResult.sumCredit=t.sumCredit,e.offChainCheckResult.CPA=t.payload.CPA}}}),U=V.reducer,X=V.actions,Y=(X.setCertIntegrityCheckResult,X.setSubjectIntegrityCheckResult,X.setOffChainCheckResult,X.setDecodedTokenAndEduProgramOnBKC),Q=Object(b.a)((function(e){return{root:{height:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center top"},box:{flexBasis:"70%",display:"flex"}}}));function Z(e){var t=Q(),n=Object(L.b)(),r=Object(o.g)(),c=Object(_.b)().enqueueSnackbar;function i(){return(i=Object(A.a)(q.a.mark((function e(t){var a,i,s,o;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.clipboardData.getData("Text"),e.prev=1,e.next=4,F.a.post("/decode-token",{token:a});case 4:return i=e.sent,e.prev=5,e.next=8,F.a.get("/student/data/"+i.data.publicKeyHex);case 8:s=e.sent,o=s.data.find((function(e){return e.certificate.versions[0].portfolio_id===i.data.certificate.versions[0].portfolio_id})),n(Y({decodedToken:i.data,eduProgramOnBKC:o})),r("/ket-qua"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),console.error(e.t0),e.t0.response&&c(JSON.stringify(e.t0.response.data),M);case 18:e.next=24;break;case 20:e.prev=20,e.t1=e.catch(1),console.error(e.t1),e.t1.response&&c("Token kh\xf4ng h\u1ee3p l\u1ec7: "+JSON.stringify(e.t1.response.data),M);case 24:case"end":return e.stop()}}),e,null,[[1,20],[5,14]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)("div",{className:t.box,children:Object(a.jsx)(D.a,{label:"Token",fullWidth:!0,autoFocus:!0,onPaste:function(e){return i.apply(this,arguments)}})})})}function $(e){var t=e.children,n=e.title;return Object(a.jsx)("div",{children:Object(a.jsx)(W,{title:n,children:Object(a.jsx)(K.a,{children:Object(a.jsx)(z.a,{py:3,children:t})})})})}var ee=n(58),te=n(104),ne=n(307),ae=n(308),re=n(309),ce=n(310),ie=n(311),se=n(312),oe=n(313),le=n(314),be=n(65),je=n.n(be),pe=n(66),xe=n.n(pe),de=n(318);function he(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return Object(a.jsxs)(de.a,{target:"_blank",href:"".concat("https://explorer-backend.b4e.vn:3006","/#/transactions/").concat(e),children:[e.slice(0,t),"..."]})}var ue=Object(b.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},typo:{flexGrow:1}}}));function ge(e){var t=ue(),n=Object(L.c)((function(e){return e.appSlice.decodedToken.certificate.versions})),c=n[n.length-1],i=function(e,t){var n={"H\u1ecd v\xe0 t\xean":e.name,"Ng\xe0y sinh":e.birthday,"Gi\u1edbi t\xednh":e.gender,"Tr\u01b0\u1eddng":e.university,"Ng\xe0nh h\u1ecdc":e.faculty,"Lo\u1ea1i b\u1eb1ng":e.degree,"N\u0103m t\u1ed1t nghi\u1ec7p":e.gradyear},a={"X\u1ebfp lo\u1ea1i":e.level,"H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o":e.eduform,"N\u01a1i c\u1ea5p":e.issuelocation,"Ng\xe0y c\u1ea5p":e.issuedate,"Hi\u1ec7u tr\u01b0\u1edfng":e.headmaster,"S\u1ed1 hi\u1ec7u v\xe0o s\u1ed5":e.globalregisno,Txid:he(t)};return[n,a]}(c.plain,c.txid),s=Object(ee.a)(i,2),o=s[0],l=s[1],b=Object(L.c)((function(e){return e.appSlice.eduProgramOnBKC.certificate.versions})),j=b.find((function(e){return e.txid===c.txid})),p=b[b.length-1],x=Object(r.useState)(null),d=Object(ee.a)(x,2),h=d[0],u=d[1],g=Object(r.useState)(null),O=Object(ee.a)(g,2),f=O[0],m=O[1],v=Object(_.b)().enqueueSnackbar;function y(){return(y=Object(A.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("/check-integrity",{hash:j.hash,plain:c.plain});case 3:t=e.sent,u(t.data.isIntegrity),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),v(JSON.stringify(e.t0.response.data),M);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){y.apply(this,arguments)}(),console.log({tokenTimeStamp:c.timestamp,onbkctimestamp:p.timestamp}),m(c.timestamp!==p.timestamp)}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)(te.a,{className:t.root,children:[Object(a.jsxs)(z.a,{display:"flex",alignItems:"center",pt:2,pb:1,children:[Object(a.jsx)(B.a,{variant:"h4",className:t.typo,children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),null===h&&Object(a.jsx)(ne.a,{size:"1.5rem"}),!0===h&&Object(a.jsx)(je.a,{color:"primary"}),!1===h&&Object(a.jsx)(xe.a,{color:"secondary"}),null===f&&Object(a.jsx)(ne.a,{size:"1.5rem"}),!1===f&&Object(a.jsx)(je.a,{color:"primary"}),!0===f&&Object(a.jsx)(xe.a,{color:"secondary"})]}),Object(a.jsx)(ae.a,{}),Object(a.jsxs)(re.a,{container:!0,children:[Object(a.jsx)(re.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(Oe,{rows:o})}),Object(a.jsx)(re.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(Oe,{rows:l})})]})]})})}function Oe(e){var t=e.rows;return Object(a.jsx)(ce.a,{children:Object(a.jsx)(ie.a,{size:"small",children:Object(a.jsx)(se.a,{children:Object.entries(t).map((function(e,t){return Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(le.a,{style:{width:"50%"},children:e[0]}),Object(a.jsx)(le.a,{children:e[1]})]},t)}))})})})}var fe=n(315);function me(e){var t=e.subjectIndex,n=e.version,c=e.versionIndex,i=Object(L.c)((function(e){return e.appSlice.eduProgramOnBKC.subjects[t].versions[c]})),s=Object(r.useState)(null),o=Object(ee.a)(s,2),l=o[0],b=o[1],j=Object(_.b)().enqueueSnackbar;function p(){return(p=Object(A.a)(q.a.mark((function e(){var t;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.post("/check-integrity",{hash:i.hash,plain:n.plain});case 3:t=e.sent,b(t.data.isIntegrity),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),j(JSON.stringify(e.t0.response.data),M);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(le.a,{children:n.plain.semester}),Object(a.jsx)(le.a,{children:n.plain.subject.subjectId}),Object(a.jsx)(le.a,{children:n.plain.subject.subjectName}),Object(a.jsx)(le.a,{children:n.plain.subject.credit}),Object(a.jsx)(le.a,{children:n.plain.halfSemesterPoint}),Object(a.jsx)(le.a,{children:n.plain.finalSemesterPoint}),Object(a.jsx)(le.a,{children:n.plain.teacherId}),Object(a.jsx)(le.a,{children:n.plain.teacherName}),Object(a.jsx)(le.a,{children:he(n.txid,10)}),Object(a.jsxs)(le.a,{align:"center",children:[null===l&&Object(a.jsx)(ne.a,{size:"1rem"}),!0===l&&Object(a.jsx)(je.a,{color:"primary"}),!1===l&&Object(a.jsx)(xe.a,{color:"secondary"})]})]})}function ve(e){var t=e.subject,n=e.subjectIndex;return Object(a.jsx)(a.Fragment,{children:t.versions.map((function(e,t){return Object(r.createElement)(me,Object(f.a)(Object(f.a)({},{subjectIndex:n,version:e,versionIndex:t}),{},{key:t}))}))})}var ye=Object(b.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},typo:{flexGrow:1}}}));function ke(e){var t=ye(),n=Object(L.c)((function(e){return e.appSlice.decodedToken.subjects}));return Object(a.jsx)("div",{children:Object(a.jsxs)(te.a,{className:t.root,children:[Object(a.jsx)(z.a,{pt:2,pb:1,display:"flex",alignItems:"center",children:Object(a.jsx)(B.a,{variant:"h4",className:t.typo,children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m"})}),Object(a.jsx)(ae.a,{}),Object(a.jsx)(ce.a,{children:Object(a.jsxs)(ie.a,{size:"small",children:[Object(a.jsx)(fe.a,{children:Object(a.jsxs)(oe.a,{children:[Object(a.jsx)(le.a,{children:"K\xec h\u1ecdc"}),Object(a.jsx)(le.a,{children:"M\xe3 HP"}),Object(a.jsx)(le.a,{children:"T\xean HP"}),Object(a.jsx)(le.a,{children:"S\u1ed1 TC"}),Object(a.jsx)(le.a,{children:"\u0110i\u1ec3m GK"}),Object(a.jsx)(le.a,{children:"\u0110i\u1ec3m CK"}),Object(a.jsx)(le.a,{children:"M\xe3 GV"}),Object(a.jsx)(le.a,{children:"T\xean GV"}),Object(a.jsx)(le.a,{children:"Txid"}),Object(a.jsx)(le.a,{children:"T\xednh to\xe0n v\u1eb9n"})]})}),Object(a.jsx)(se.a,{children:n.map((function(e,t){return Object(a.jsx)(ve,{subject:e,subjectIndex:t},t)}))})]})})]})})}var Se=Object(b.a)((function(e){return{root:{"& > *":{marginBottom:e.spacing(3)},marginLeft:"-32px",marginRight:"-32px"}}}));function Ce(e){var t=Se();Object(L.b)();return Object(r.useEffect)((function(){}),[]),Object(a.jsx)($,{title:"K\u1ebft qu\u1ea3 x\xe1c th\u1ef1c",children:Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(ge,{}),Object(a.jsx)(ke,{})]})})}var we=[{path:"/",element:Object(a.jsx)(P,{}),children:[{path:"xac-thuc",element:Object(a.jsx)(Z,{})},{path:"ket-qua",element:Object(a.jsx)(Ce,{})},{path:"404",element:Object(a.jsx)(E,{})},{path:"/",element:Object(a.jsx)(o.a,{to:"xac-thuc"})},{path:"*",element:Object(a.jsx)(o.a,{to:"/404"})}]}],Ne=n(100),Te=Object(Ne.configureStore)({reducer:{appSlice:U}}),Ie=function(){var e=Object(o.i)(we);return Object(a.jsxs)(l.a,{theme:O,children:[Object(a.jsx)(x,{}),Object(a.jsx)(L.a,{store:Te,children:Object(a.jsx)(_.a,{maxSnack:1,children:e})})]})};F.a.defaults.baseURL="".concat("https://verifier-backend.b4e.vn:8003"),i.a.render(Object(a.jsx)(s.a,{children:Object(a.jsx)(Ie,{})}),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.b9514c2d.chunk.js.map