(this.webpackJsonpverifier_frontend=this.webpackJsonpverifier_frontend||[]).push([[0],{243:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),r=a.n(c),i=a(10),s=a.n(i),o=a(37),l=(a(234),a(7)),p=a(291),d=a(244),x=a(225),j=Object(d.a)((function(){return Object(x.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),b=function(){return j(),null},h=a(218),u=a(14),g=a(210),f=a.n(g),O=Object(h.a)({palette:{background:{dark:"#F4F6F8",default:u.a.common.white,paper:u.a.common.white},primary:f.a,text:{primary:u.a.blueGrey[900],secondary:u.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),m=a(25),v=a(78),y=a(4),k=a(274),S=a(276),C=function(e){return Object(n.jsx)("img",Object(m.a)({alt:"Logo",src:"/static/logo.svg"},e))},w=Object(d.a)({root:{},toolbar:{height:64}}),N=function(e){var t=e.className,a=Object(v.a)(e,["className"]),c=w();return Object(n.jsx)(k.a,Object(m.a)(Object(m.a)({className:Object(y.a)(c.root,t),elevation:0},a),{},{children:Object(n.jsx)(S.a,{className:c.toolbar,children:Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)(C,{})})})}))},T=a(211),D=a.n(T),P=Object(d.a)((function(e){return{root:{height:"100%",width:"100%",overflow:"hidden",display:"flex",backgroundColor:e.palette.background.dark},wrapper:{flex:"1 1 auto",overflow:"hidden",display:"flex",paddingTop:64},contentContainer:{flex:"1 1 auto",overflow:"hidden",display:"flex"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),z=function(){var e=P();return Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(N,{}),Object(n.jsx)("div",{className:e.wrapper,children:Object(n.jsx)("div",{className:e.contentContainer,children:Object(n.jsx)("div",{className:e.content,children:Object(n.jsx)(D.a,{children:Object(n.jsx)(l.b,{})})})})})]})},I=a(292),H=a(277),R=a(278),W=a(212),K=Object(c.forwardRef)((function(e,t){var a=e.children,c=e.title,r=void 0===c?"":c,i=Object(v.a)(e,["children","title"]);return Object(n.jsxs)("div",Object(m.a)(Object(m.a)({ref:t},i),{},{children:[Object(n.jsx)(W.a,{children:Object(n.jsx)("title",{children:r})}),a]}))})),G=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),E=function(){var e=G();return Object(n.jsx)(K,{className:e.root,title:"404",children:Object(n.jsx)(I.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(n.jsxs)(H.a,{maxWidth:"md",children:[Object(n.jsx)(R.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(n.jsx)(R.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(n.jsx)(I.a,{textAlign:"center"})]})})})},J=a(18),A=a.n(J),B=a(33),F=a(279),q=a(70),M=a(16),L=(0,a(99).createSlice)({name:"appSlice",initialState:{decodedData:{publicKeyHex:"",publicKeyHex65:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},{}]},offChainCheckResult:{sumCredit:0,CPA:0}},reducers:{setDecodedData:function(e,t){e.decodedData=t.payload},setCertIntegrityCheckResult:function(e,t){e.decodedData.certificate.versions[0].valid=t.payload.valid,e.decodedData.certificate.versions[0].timestamp=t.payload.timestamp},setSubjectIntegrityCheckResult:function(e,t){var a=t.payload,n=a.subjectIndex,c=a.versionIndex,r=a.valid,i=e.decodedData.subjects[n].versions[c];i.valid=r,!1===r?i.msg=t.payload.msg:i.timestamp=t.payload.timestamp},setOffChainCheckResult:function(e,t){e.offChainCheckResult.sumCredit=t.sumCredit,e.offChainCheckResult.CPA=t.payload.CPA}}}),_=L.reducer,V=L.actions,X=V.setDecodedData,Y=V.setCertIntegrityCheckResult,Q=V.setSubjectIntegrityCheckResult,U=V.setOffChainCheckResult,Z=Object(d.a)((function(e){return{root:{height:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center top"},box:{flexBasis:"70%",display:"flex"}}}));function $(e){var t=Z(),a=Object(M.b)(),c=Object(l.g)(),r=Object(q.b)().enqueueSnackbar;function i(){return(i=Object(B.a)(A.a.mark((function e(t){var n,i,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clipboardData.getData("Text"),e.next=3,fetch("".concat("http://139.59.125.235:8002","/decode-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n})});case 3:return i=e.sent,e.next=6,i.json();case 6:s=e.sent,i.ok?(a(X(s)),c("/ket-qua")):r("Token kh\xf4ng h\u1ee3p l\u1ec7: "+JSON.stringify(s),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsx)("div",{className:t.root,children:Object(n.jsx)("div",{className:t.box,children:Object(n.jsx)(F.a,{label:"Token",fullWidth:!0,autoFocus:!0,onPaste:function(e){return i.apply(this,arguments)}})})})}var ee=a(219);function te(e){var t=e.children,a=e.title;return Object(n.jsx)("div",{children:Object(n.jsx)(K,{title:a,children:Object(n.jsx)(H.a,{children:Object(n.jsx)(I.a,{py:3,children:t})})})})}var ae=a(220),ne=a(103),ce=a(282),re=a(283),ie=a(284),se=a(285),oe=a(286),le=a(287),pe=a(288),de=a(289),xe=a(75),je=a.n(xe),be=a(76),he=a.n(be),ue=a(293);function ge(e){return Object(n.jsxs)(ue.a,{target:"_blank",href:"".concat("http://139.59.125.235:3006","/#/transactions/").concat(e),children:[e.slice(0,20),"..."]})}var fe=Object(d.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},typo:{flexGrow:1}}}));function Oe(e){var t=fe(),a=Object(M.c)((function(e){return e.appSlice.decodedData.certificate.versions[0]})),r=Object(M.c)((function(e){return e.appSlice.decodedData.publicKeyHex65})),i=function(e,t){var a={"H\u1ecd v\xe0 t\xean":e.name,"Ng\xe0y sinh":e.birthday,"Gi\u1edbi t\xednh":e.gender,"Tr\u01b0\u1eddng":e.university,"Ng\xe0nh h\u1ecdc":e.faculty,"Lo\u1ea1i b\u1eb1ng":e.degree,"N\u0103m t\u1ed1t nghi\u1ec7p":e.gradyear},n={"X\u1ebfp lo\u1ea1i":e.level,"H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o":e.eduform,"N\u01a1i c\u1ea5p":e.issuelocation,"Ng\xe0y c\u1ea5p":e.issuedate,"Hi\u1ec7u tr\u01b0\u1edfng":e.headmaster,"S\u1ed1 hi\u1ec7u v\xe0o s\u1ed5":e.globalregisno,Txid:ge(t.txid)};return[a,n]}(a.plain,a),s=Object(ae.a)(i,2),o=s[0],l=s[1],p=Object(M.b)();function d(){return(d=Object(B.a)(A.a.mark((function e(){var t,n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://139.59.125.235:8002","/check-integrity"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({txid:a.txid,plain:a.plain,publicKeyHex65:r})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,t.ok?setTimeout((function(){p(Y(n))}),5e3):console.log(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[]),Object(n.jsx)("div",{children:Object(n.jsxs)(ne.a,{className:t.root,children:[Object(n.jsxs)(I.a,{display:"flex",alignItems:"center",pt:2,pb:1,children:[Object(n.jsx)(R.a,{variant:"h4",className:t.typo,children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),void 0===a.valid&&Object(n.jsx)(ce.a,{size:"1.5rem"}),!0===a.valid&&Object(n.jsx)(je.a,{color:"primary"}),!1===a.valid&&Object(n.jsx)(he.a,{color:"secondary"})]}),Object(n.jsx)(re.a,{}),Object(n.jsxs)(ie.a,{container:!0,children:[Object(n.jsx)(ie.a,{item:!0,sm:12,md:6,children:Object(n.jsx)(me,{rows:o})}),Object(n.jsx)(ie.a,{item:!0,sm:12,md:6,children:Object(n.jsx)(me,{rows:l})})]})]})})}function me(e){var t=e.rows;return Object(n.jsx)(se.a,{children:Object(n.jsx)(oe.a,{size:"small",children:Object(n.jsx)(le.a,{children:Object.entries(t).map((function(e,t){return Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(de.a,{style:{width:"50%"},children:e[0]}),Object(n.jsx)(de.a,{children:e[1]})]},t)}))})})})}var ve=a(290),ye=Object(d.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},typo:{flexGrow:1}}}));function ke(e){var t=ye(),a=Object(M.c)((function(e){return e.appSlice.decodedData.subjects})),i=Object(M.c)((function(e){return e.appSlice.decodedData.publicKeyHex65})),s=Object(M.b)();function o(){return(o=Object(B.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.forEach(function(){var e=Object(B.a)(A.a.mark((function e(t,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.versions.map(function(){var e=Object(B.a)(A.a.mark((function e(t,n){var c,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://139.59.125.235:8002","/check-integrity"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({txid:t.txid,plain:t.plain,publicKeyHex65:i})});case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,c.ok?setTimeout((function(){s(Q(Object(m.a)({subjectIndex:a,versionIndex:n},r)))}),Math.floor(2500*Math.random()+200)):console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(n.jsx)("div",{children:Object(n.jsxs)(ne.a,{className:t.root,children:[Object(n.jsx)(I.a,{pt:2,pb:1,display:"flex",alignItems:"center",children:Object(n.jsx)(R.a,{variant:"h4",className:t.typo,children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m"})}),Object(n.jsx)(re.a,{}),Object(n.jsx)(se.a,{children:Object(n.jsxs)(oe.a,{size:"small",children:[Object(n.jsx)(ve.a,{children:Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(de.a,{children:"K\xec h\u1ecdc"}),Object(n.jsx)(de.a,{children:"M\xe3 HP"}),Object(n.jsx)(de.a,{children:"T\xean HP"}),Object(n.jsx)(de.a,{children:"S\u1ed1 TC"}),Object(n.jsx)(de.a,{children:"\u0110i\u1ec3m GK"}),Object(n.jsx)(de.a,{children:"\u0110i\u1ec3m CK"}),Object(n.jsx)(de.a,{children:"M\xe3 GV"}),Object(n.jsx)(de.a,{children:"T\xean GV"}),Object(n.jsx)(de.a,{children:"Txid"}),Object(n.jsx)(de.a,{children:"T\xednh to\xe0n v\u1eb9n"}),Object(n.jsx)(de.a,{children:"Timestamp"})]})}),Object(n.jsx)(le.a,{children:a.map((function(e,t){return Object(n.jsx)(r.a.Fragment,{children:e.versions.map((function(e,t){return Object(n.jsxs)(pe.a,{children:[Object(n.jsx)(de.a,{children:e.plain.semester}),Object(n.jsx)(de.a,{children:e.plain.subject.subjectId}),Object(n.jsx)(de.a,{children:e.plain.subject.name}),Object(n.jsx)(de.a,{children:e.plain.subject.credit}),Object(n.jsx)(de.a,{children:e.plain.halfSemesterPoint}),Object(n.jsx)(de.a,{children:e.plain.finalSemesterPoint}),Object(n.jsx)(de.a,{children:e.plain.teacherId}),Object(n.jsx)(de.a,{children:e.plain.teacherName}),Object(n.jsx)(de.a,{children:ge(e.txid)}),Object(n.jsxs)(de.a,{align:"center",children:[void 0===e.valid&&Object(n.jsx)(ce.a,{size:"1rem"}),!0===e.valid&&Object(n.jsx)(je.a,{color:"primary"}),!1===e.valid&&Object(n.jsx)(he.a,{color:"secondary"})]}),Object(n.jsxs)(de.a,{children:[!0===e.valid&&e.timestamp,!1===e.valid&&e.msg]})]},t)}))},t)}))})]})})]})})}var Se=Object(d.a)((function(e){return{root:{"& > *":{marginBottom:e.spacing(3)},marginLeft:"-32px",marginRight:"-32px"}}}));function Ce(e){var t=Se(),a=Object(M.c)((function(e){return e.appSlice.decodedData.subjects})),r=Object(M.b)();return Object(c.useEffect)((function(){!function(){var e=0,t=0;a.forEach((function(a,n){var c=Object(ee.a)(a.versions);c.sort((function(e,t){return t.timestamp-e.timestamp}));var r=c[0];e+=r.credit,t+=r.credit*r.pointBase4})),r(U({sumCredit:e,CPA:t/e}))}()}),[]),Object(n.jsx)(te,{title:"K\u1ebft qu\u1ea3 x\xe1c th\u1ef1c",children:Object(n.jsxs)("div",{className:t.root,children:[Object(n.jsx)(Oe,{}),Object(n.jsx)(ke,{})]})})}var we=[{path:"/",element:Object(n.jsx)(z,{}),children:[{path:"xac-thuc",element:Object(n.jsx)($,{})},{path:"ket-qua",element:Object(n.jsx)(Ce,{})},{path:"404",element:Object(n.jsx)(E,{})},{path:"/",element:Object(n.jsx)(l.a,{to:"xac-thuc"})},{path:"*",element:Object(n.jsx)(l.a,{to:"/404"})}]}],Ne=a(99),Te=Object(Ne.configureStore)({reducer:{appSlice:_}}),De=function(){var e=Object(l.i)(we);return Object(n.jsxs)(p.a,{theme:O,children:[Object(n.jsx)(b,{}),Object(n.jsx)(M.a,{store:Te,children:Object(n.jsx)(q.a,{maxSnack:1,children:e})})]})};s.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)(De,{})}),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.ce110fb7.chunk.js.map