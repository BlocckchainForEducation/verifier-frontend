(this.webpackJsonpverifier_frontend=this.webpackJsonpverifier_frontend||[]).push([[0],{243:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),r=n.n(c),i=n(10),s=n.n(i),o=n(37),l=(n(234),n(7)),p=n(291),d=n(244),x=n(225),j=Object(d.a)((function(){return Object(x.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),b=function(){return j(),null},h=n(218),u=n(14),f=n(210),g=n.n(f),O=Object(h.a)({palette:{background:{dark:"#F4F6F8",default:u.a.common.white,paper:u.a.common.white},primary:g.a,text:{primary:u.a.blueGrey[900],secondary:u.a.blueGrey[600]}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),m=n(25),v=n(78),y=n(4),k=n(274),S=n(276),C=function(e){return Object(a.jsx)("img",Object(m.a)({alt:"Logo",src:"/static/logo.svg"},e))},w=Object(d.a)({root:{},toolbar:{height:64}}),N=function(e){var t=e.className,n=Object(v.a)(e,["className"]),c=w();return Object(a.jsx)(k.a,Object(m.a)(Object(m.a)({className:Object(y.a)(c.root,t),elevation:0},n),{},{children:Object(a.jsx)(S.a,{className:c.toolbar,children:Object(a.jsx)(o.b,{to:"/",children:Object(a.jsx)(C,{})})})}))},T=n(211),D=n.n(T),P=Object(d.a)((function(e){return{root:{height:"100%",width:"100%",overflow:"hidden",display:"flex",backgroundColor:e.palette.background.dark},wrapper:{flex:"1 1 auto",overflow:"hidden",display:"flex",paddingTop:64},contentContainer:{flex:"1 1 auto",overflow:"hidden",display:"flex"},content:{flex:"1 1 auto",height:"100%",overflow:"auto"}}})),z=function(){var e=P();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(N,{}),Object(a.jsx)("div",{className:e.wrapper,children:Object(a.jsx)("div",{className:e.contentContainer,children:Object(a.jsx)("div",{className:e.content,children:Object(a.jsx)(D.a,{children:Object(a.jsx)(l.b,{})})})})})]})},I=n(292),H=n(277),R=n(278),W=n(212),K=Object(c.forwardRef)((function(e,t){var n=e.children,c=e.title,r=void 0===c?"":c,i=Object(v.a)(e,["children","title"]);return Object(a.jsxs)("div",Object(m.a)(Object(m.a)({ref:t},i),{},{children:[Object(a.jsx)(W.a,{children:Object(a.jsx)("title",{children:r})}),n]}))})),G=Object(d.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,height:"100%",paddingBottom:e.spacing(3),paddingTop:e.spacing(3)},image:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}}})),E=function(){var e=G();return Object(a.jsx)(K,{className:e.root,title:"404",children:Object(a.jsx)(I.a,{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",children:Object(a.jsxs)(H.a,{maxWidth:"md",children:[Object(a.jsx)(R.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(a.jsx)(R.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(a.jsx)(I.a,{textAlign:"center"})]})})})},J=n(18),A=n.n(J),B=n(33),F=n(279),q=n(70),M=n(16),L=(0,n(99).createSlice)({name:"appSlice",initialState:{decodedData:{publicKeyHex:"",publicKeyHex65:"",certificate:{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},subjects:[{address:"",versions:[{txid:"",timestamp:1234,active:"",plain:""}]},{}]},offChainCheckResult:{sumCredit:0,CPA:0}},reducers:{setDecodedData:function(e,t){e.decodedData=t.payload},setCertIntegrityCheckResult:function(e,t){e.decodedData.certificate.versions[0].valid=t.payload.valid,e.decodedData.certificate.versions[0].timestamp=t.payload.timestamp},setSubjectIntegrityCheckResult:function(e,t){var n=t.payload,a=n.subjectIndex,c=n.versionIndex,r=n.valid,i=e.decodedData.subjects[a].versions[c];i.valid=r,!1===r?i.msg=t.payload.msg:i.timestamp=t.payload.timestamp},setOffChainCheckResult:function(e,t){e.offChainCheckResult.sumCredit=t.sumCredit,e.offChainCheckResult.CPA=t.payload.CPA}}}),_=L.reducer,V=L.actions,X=V.setDecodedData,Y=V.setCertIntegrityCheckResult,Q=V.setSubjectIntegrityCheckResult,U=V.setOffChainCheckResult,Z=Object(d.a)((function(e){return{root:{height:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",backgroundSize:"cover",backgroundPosition:"center top"},box:{flexBasis:"70%",display:"flex"}}}));function $(e){var t=Z(),n=Object(M.b)(),c=Object(l.g)(),r=Object(q.b)().enqueueSnackbar;function i(){return(i=Object(B.a)(A.a.mark((function e(t){var a,i,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.clipboardData.getData("Text"),e.next=3,fetch("".concat("https://verifier-backend.b4e.vn","/decode-token"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a})});case 3:return i=e.sent,e.next=6,i.json();case 6:s=e.sent,i.ok?(n(X(s)),c("/ket-qua")):r("Token kh\xf4ng h\u1ee3p l\u1ec7: "+JSON.stringify(s),{variant:"error",anchorOrigin:{vertical:"top",horizontal:"center"}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)("div",{className:t.box,children:Object(a.jsx)(F.a,{label:"Token",fullWidth:!0,autoFocus:!0,onPaste:function(e){return i.apply(this,arguments)}})})})}var ee=n(219);function te(e){var t=e.children,n=e.title;return Object(a.jsx)("div",{children:Object(a.jsx)(K,{title:n,children:Object(a.jsx)(H.a,{children:Object(a.jsx)(I.a,{py:3,children:t})})})})}var ne=n(220),ae=n(103),ce=n(282),re=n(283),ie=n(284),se=n(285),oe=n(286),le=n(287),pe=n(288),de=n(289),xe=n(75),je=n.n(xe),be=n(76),he=n.n(be),ue=n(293);function fe(e){return Object(a.jsxs)(ue.a,{target:"_blank",href:"".concat("https://explorer.b4e.vn","/#/transactions/").concat(e),children:[e.slice(0,20),"..."]})}var ge=Object(d.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},typo:{flexGrow:1}}}));function Oe(e){var t=ge(),n=Object(M.c)((function(e){return e.appSlice.decodedData.certificate.versions[0]})),r=Object(M.c)((function(e){return e.appSlice.decodedData.publicKeyHex65})),i=function(e,t){var n={"H\u1ecd v\xe0 t\xean":e.name,"Ng\xe0y sinh":e.birthday,"Gi\u1edbi t\xednh":e.gender,"Tr\u01b0\u1eddng":e.university,"Ng\xe0nh h\u1ecdc":e.faculty,"Lo\u1ea1i b\u1eb1ng":e.degree,"N\u0103m t\u1ed1t nghi\u1ec7p":e.gradyear},a={"X\u1ebfp lo\u1ea1i":e.level,"H\xecnh th\u1ee9c \u0111\xe0o t\u1ea1o":e.eduform,"N\u01a1i c\u1ea5p":e.issuelocation,"Ng\xe0y c\u1ea5p":e.issuedate,"Hi\u1ec7u tr\u01b0\u1edfng":e.headmaster,"S\u1ed1 hi\u1ec7u v\xe0o s\u1ed5":e.globalregisno,Txid:fe(t.txid)};return[n,a]}(n.plain,n),s=Object(ne.a)(i,2),o=s[0],l=s[1],p=Object(M.b)();function d(){return(d=Object(B.a)(A.a.mark((function e(){var t,a;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://verifier-backend.b4e.vn","/check-integrity"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({txid:n.txid,plain:n.plain,publicKeyHex65:r})});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,t.ok?setTimeout((function(){p(Y(a))}),5e3):console.log(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)(ae.a,{className:t.root,children:[Object(a.jsxs)(I.a,{display:"flex",alignItems:"center",pt:2,pb:1,children:[Object(a.jsx)(R.a,{variant:"h4",className:t.typo,children:"Th\xf4ng tin b\u1eb1ng c\u1ea5p"}),void 0===n.valid&&Object(a.jsx)(ce.a,{size:"1.5rem"}),!0===n.valid&&Object(a.jsx)(je.a,{color:"primary"}),!1===n.valid&&Object(a.jsx)(he.a,{color:"secondary"})]}),Object(a.jsx)(re.a,{}),Object(a.jsxs)(ie.a,{container:!0,children:[Object(a.jsx)(ie.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(me,{rows:o})}),Object(a.jsx)(ie.a,{item:!0,sm:12,md:6,children:Object(a.jsx)(me,{rows:l})})]})]})})}function me(e){var t=e.rows;return Object(a.jsx)(se.a,{children:Object(a.jsx)(oe.a,{size:"small",children:Object(a.jsx)(le.a,{children:Object.entries(t).map((function(e,t){return Object(a.jsxs)(pe.a,{children:[Object(a.jsx)(de.a,{style:{width:"50%"},children:e[0]}),Object(a.jsx)(de.a,{children:e[1]})]},t)}))})})})}var ve=n(290),ye=Object(d.a)((function(e){return{root:{padding:e.spacing(0,2,2,2)},typo:{flexGrow:1}}}));function ke(e){var t=ye(),n=Object(M.c)((function(e){return e.appSlice.decodedData.subjects})),i=Object(M.c)((function(e){return e.appSlice.decodedData.publicKeyHex65})),s=Object(M.b)();function o(){return(o=Object(B.a)(A.a.mark((function e(){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.forEach(function(){var e=Object(B.a)(A.a.mark((function e(t,n){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.versions.map(function(){var e=Object(B.a)(A.a.mark((function e(t,a){var c,r;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://verifier-backend.b4e.vn","/check-integrity"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({txid:t.txid,plain:t.plain,publicKeyHex65:i})});case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,c.ok?setTimeout((function(){s(Q(Object(m.a)({subjectIndex:n,versionIndex:a},r)))}),Math.floor(2500*Math.random()+200)):console.log(r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),Object(a.jsx)("div",{children:Object(a.jsxs)(ae.a,{className:t.root,children:[Object(a.jsx)(I.a,{pt:2,pb:1,display:"flex",alignItems:"center",children:Object(a.jsx)(R.a,{variant:"h4",className:t.typo,children:"Th\xf4ng tin b\u1ea3ng \u0111i\u1ec3m"})}),Object(a.jsx)(re.a,{}),Object(a.jsx)(se.a,{children:Object(a.jsxs)(oe.a,{size:"small",children:[Object(a.jsx)(ve.a,{children:Object(a.jsxs)(pe.a,{children:[Object(a.jsx)(de.a,{children:"K\xec h\u1ecdc"}),Object(a.jsx)(de.a,{children:"M\xe3 HP"}),Object(a.jsx)(de.a,{children:"T\xean HP"}),Object(a.jsx)(de.a,{children:"S\u1ed1 TC"}),Object(a.jsx)(de.a,{children:"\u0110i\u1ec3m GK"}),Object(a.jsx)(de.a,{children:"\u0110i\u1ec3m CK"}),Object(a.jsx)(de.a,{children:"M\xe3 GV"}),Object(a.jsx)(de.a,{children:"T\xean GV"}),Object(a.jsx)(de.a,{children:"Txid"}),Object(a.jsx)(de.a,{children:"T\xednh to\xe0n v\u1eb9n"}),Object(a.jsx)(de.a,{children:"Timestamp"})]})}),Object(a.jsx)(le.a,{children:n.map((function(e,t){return Object(a.jsx)(r.a.Fragment,{children:e.versions.map((function(e,t){return Object(a.jsxs)(pe.a,{children:[Object(a.jsx)(de.a,{children:e.plain.semester}),Object(a.jsx)(de.a,{children:e.plain.subject.subjectId}),Object(a.jsx)(de.a,{children:e.plain.subject.name}),Object(a.jsx)(de.a,{children:e.plain.subject.credit}),Object(a.jsx)(de.a,{children:e.plain.halfSemesterPoint}),Object(a.jsx)(de.a,{children:e.plain.finalSemesterPoint}),Object(a.jsx)(de.a,{children:e.plain.teacherId}),Object(a.jsx)(de.a,{children:e.plain.teacherName}),Object(a.jsx)(de.a,{children:fe(e.txid)}),Object(a.jsxs)(de.a,{align:"center",children:[void 0===e.valid&&Object(a.jsx)(ce.a,{size:"1rem"}),!0===e.valid&&Object(a.jsx)(je.a,{color:"primary"}),!1===e.valid&&Object(a.jsx)(he.a,{color:"secondary"})]}),Object(a.jsxs)(de.a,{children:[!0===e.valid&&e.timestamp,!1===e.valid&&e.msg]})]},t)}))},t)}))})]})})]})})}var Se=Object(d.a)((function(e){return{root:{"& > *":{marginBottom:e.spacing(3)},marginLeft:"-32px",marginRight:"-32px"}}}));function Ce(e){var t=Se(),n=Object(M.c)((function(e){return e.appSlice.decodedData.subjects})),r=Object(M.b)();return Object(c.useEffect)((function(){!function(){var e=0,t=0;n.forEach((function(n,a){var c=Object(ee.a)(n.versions);c.sort((function(e,t){return t.timestamp-e.timestamp}));var r=c[0];e+=r.credit,t+=r.credit*r.pointBase4})),r(U({sumCredit:e,CPA:t/e}))}()}),[]),Object(a.jsx)(te,{title:"K\u1ebft qu\u1ea3 x\xe1c th\u1ef1c",children:Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsx)(Oe,{}),Object(a.jsx)(ke,{})]})})}var we=[{path:"/",element:Object(a.jsx)(z,{}),children:[{path:"xac-thuc",element:Object(a.jsx)($,{})},{path:"ket-qua",element:Object(a.jsx)(Ce,{})},{path:"404",element:Object(a.jsx)(E,{})},{path:"/",element:Object(a.jsx)(l.a,{to:"xac-thuc"})},{path:"*",element:Object(a.jsx)(l.a,{to:"/404"})}]}],Ne=n(99),Te=Object(Ne.configureStore)({reducer:{appSlice:_}}),De=function(){var e=Object(l.i)(we);return Object(a.jsxs)(p.a,{theme:O,children:[Object(a.jsx)(b,{}),Object(a.jsx)(M.a,{store:Te,children:Object(a.jsx)(q.a,{maxSnack:1,children:e})})]})};s.a.render(Object(a.jsx)(o.a,{children:Object(a.jsx)(De,{})}),document.getElementById("root"))}},[[243,1,2]]]);
//# sourceMappingURL=main.370a1fc6.chunk.js.map